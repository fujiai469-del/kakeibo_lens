# Kakeibo Lens - モバイルアプリデザイン計画

## デザイン方針

**コンセプト**: 「手書きの温かみを残し、デジタルの便利さを享受する」  
**ターゲット**: 手書き家計簿の習慣がある人、複雑な家計簿アプリが使いにくいと感じている人  
**デザイン原則**: シンプル、直感的、iOS標準に準拠（Apple Human Interface Guidelines）

## 画面構成（モバイル縦向き 9:16）

### 1. ホーム画面（Home）
**主要コンテンツ**:
- 今月の支出総額（大きく表示）
- 今月のカテゴリ別支出サマリー（円グラフ）
- 最近のスキャン履歴（リスト形式、最新3件）
- カメラスキャンボタン（中央下部、目立つ配置）

**機能**:
- カメラスキャンボタンタップ → スキャン画面へ遷移
- 円グラフタップ → 分析画面へ遷移
- スキャン履歴タップ → 詳細編集画面へ遷移

### 2. スキャン画面（Scan）
**主要コンテンツ**:
- カメラプレビュー（全画面）
- シャッターボタン（中央下部）
- ガイドライン（家計簿ページの枠線を合わせる補助線）
- キャンセルボタン（左上）

**機能**:
- 写真撮影後、AI解析開始（ゴールド系ローディングアニメーション）
- 解析完了後、結果確認画面へ自動遷移

### 3. 結果確認・編集画面（Edit Entry）
**主要コンテンツ**:
- 撮影した画像のサムネイル（上部）
- 抽出されたデータのリスト（日付、項目名、金額、カテゴリ）
- 各項目をタップして編集可能（キーボード入力）
- カテゴリ選択（ドロップダウンまたはピッカー）
- 保存ボタン（右上）、削除ボタン（左上）

**機能**:
- 誤認識箇所をタップして修正
- 保存後、ホーム画面へ戻る
- 削除後、確認ダイアログ表示

### 4. 分析画面（Analytics）
**主要コンテンツ**:
- 月選択（上部、スワイプで前月・次月切り替え）
- カテゴリ別円グラフ（中央上部）
- 月ごとの支出推移グラフ（棒グラフ、中央下部）
- 前月比較（増減率表示）
- 支出ハイライト（過去平均より多いカテゴリを強調表示）

**機能**:
- グラフタップで詳細データ表示
- CSVエクスポートボタン（右上）

### 5. 設定画面（Settings）
**主要コンテンツ**:
- カテゴリ管理（カテゴリの追加・編集・削除）
- データエクスポート（CSV形式）
- データ削除（全データ削除、確認ダイアログ）
- アプリ情報（バージョン、利用規約、プライバシーポリシー）

**機能**:
- カテゴリ管理画面へ遷移
- CSVエクスポート実行
- データ削除実行

## 主要ユーザーフロー

### フロー1: 家計簿スキャン → データ保存
1. ホーム画面でカメラスキャンボタンをタップ
2. スキャン画面でカメラプレビュー表示
3. シャッターボタンをタップして撮影
4. AI解析開始（ゴールド系ローディング）
5. 結果確認・編集画面で抽出データを確認
6. 必要に応じて修正（日付、項目名、金額、カテゴリ）
7. 保存ボタンをタップ
8. ホーム画面に戻り、最新データが反映される

### フロー2: 支出分析の確認
1. ホーム画面で円グラフをタップ
2. 分析画面へ遷移
3. カテゴリ別円グラフで支出内訳を確認
4. 月ごとの支出推移グラフで傾向を確認
5. 前月比較で増減を確認
6. 支出ハイライトで注意すべきカテゴリを確認

### フロー3: データのエクスポート
1. 分析画面またはホーム画面でCSVエクスポートボタンをタップ
2. 確認ダイアログ表示
3. エクスポート実行
4. ファイル保存先を選択（iOS標準のファイル保存ダイアログ）

## カラーパレット

**ブランドカラー**: 
- プライマリ: ゴールド系（#D4AF37）- AI解析の未来感と家計簿の温かみを表現
- セカンダリ: ダークグリーン（#2E7D32）- 安定感と信頼性

**UI基本色**:
- 背景: ライトモード #FFFFFF / ダークモード #151718
- 表面: ライトモード #F5F5F5 / ダークモード #1E2022
- テキスト: ライトモード #11181C / ダークモード #ECEDEE
- ミュート: ライトモード #687076 / ダークモード #9BA1A6
- ボーダー: ライトモード #E5E7EB / ダークモード #334155

**機能色**:
- 成功: #22C55E（保存成功、データ追加）
- 警告: #F59E0B（修正が必要な項目）
- エラー: #EF4444（削除、エラー表示）

## タイポグラフィ

- **大見出し**: 32pt, Bold（ホーム画面の支出総額）
- **中見出し**: 24pt, Semibold（画面タイトル）
- **小見出し**: 18pt, Semibold（セクションタイトル）
- **本文**: 16pt, Regular（リスト項目、説明文）
- **キャプション**: 14pt, Regular（補足情報、ラベル）

## アイコン

- **ホーム**: house.fill（SF Symbols）
- **スキャン**: camera.fill（SF Symbols）
- **分析**: chart.pie.fill（SF Symbols）
- **設定**: gearshape.fill（SF Symbols）

## インタラクション

- **ボタンタップ**: スケール 0.97 + ハプティックフィードバック（Light）
- **リスト項目タップ**: 不透明度 0.7
- **AI解析中**: ゴールド系のローディングアニメーション（回転する円形プログレスバー）
- **データ保存成功**: 成功色のトースト通知 + ハプティックフィードバック（Success）
- **エラー**: エラー色のトースト通知 + ハプティックフィードバック（Error）

## 片手操作への配慮

- 主要なアクションボタンは画面下部に配置
- タップ領域は最低44pt × 44pt（iOS標準）
- スワイプジェスチャーで前月・次月切り替え（分析画面）
- プルトゥリフレッシュでデータ更新（ホーム画面）

## オフライン対応

- 全データはローカルストレージ（AsyncStorage）に保存
- AI解析はサーバー側で実行（インターネット接続が必要）
- オフライン時は「インターネット接続が必要です」というメッセージを表示
